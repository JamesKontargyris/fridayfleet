!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=25)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=window.React},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=window.wp.hooks},function(e,t){e.exports=window.wp.keycodes},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(23);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(15),o=n(3);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var c=o.apply(null,r);c&&e.push(c)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},,function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){var r;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(e){return s(u(e),arguments)}function c(e,t){return i.apply(null,[e].concat(t||[]))}function s(e,t){var n,r,c,s,a,u,l,p,f,b=1,d=e.length,g="";for(r=0;r<d;r++)if("string"==typeof e[r])g+=e[r];else if("object"==typeof e[r]){if((s=e[r]).keys)for(n=t[b],c=0;c<s.keys.length;c++){if(null==n)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[c],s.keys[c-1]));n=n[s.keys[c]]}else n=s.param_no?t[s.param_no]:t[b++];if(o.not_type.test(s.type)&&o.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),o.numeric_arg.test(s.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(i("[sprintf] expecting number but found %T",n));switch(o.number.test(s.type)&&(p=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}o.json.test(s.type)?g+=n:(!o.number.test(s.type)||p&&!s.sign?f="":(f=p?"+":"-",n=n.toString().replace(o.sign,"")),u=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",l=s.width-(f+n).length,a=s.width&&l>0?u.repeat(l):"",g+=s.align?f+n+a:"0"===u?f+a+n:a+f+n)}return g}var a=Object.create(null);function u(e){if(a[e])return a[e];for(var t,n=e,r=[],i=0;n;){if(null!==(t=o.text.exec(n)))r.push(t[0]);else if(null!==(t=o.modulo.exec(n)))r.push("%");else{if(null===(t=o.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i|=1;var c=[],s=t[2],u=[];if(null===(u=o.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(c.push(u[1]);""!==(s=s.substring(u[0].length));)if(null!==(u=o.key_access.exec(s)))c.push(u[1]);else{if(null===(u=o.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");c.push(u[1])}t[2]=c}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return a[e]=r}t.sprintf=i,t.vsprintf=c,"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=c,void 0===(r=function(){return{sprintf:i,vsprintf:c}}.call(t,n,t,e))||(e.exports=r))}()},function(e,t,n){e.exports=function(e,t){var n,r,o=0;function i(){var i,c,s=n,a=arguments.length;e:for(;s;){if(s.args.length===arguments.length){for(c=0;c<a;c++)if(s.args[c]!==arguments[c]){s=s.next;continue e}return s!==n&&(s===r&&(r=s.prev),s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.next=n,s.prev=null,n.prev=s,n=s),s.val}s=s.next}for(i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return s={args:i,val:e.apply(null,i)},n?(n.prev=s,s.next=n):r=s,o===t.maxSize?(r=r.prev).next=null:o++,n=s,s.val}return t=t||{},i.clear=function(){n=null,r=null,o=0},i}},function(e,t){e.exports=window.wp.htmlEntities},function(e,t){e.exports=window.wp.compose},function(e,t){e.exports=window.wp.apiFetch},function(e,t){e.exports=window.wp.dom},function(e,t){e.exports=window.wp.blockEditor},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},,function(e,t,n){"use strict";n.r(t);var r,o,i,c,s=n(17),a=n.n(s),u=n(16),l=n.n(u),p=a()(console.error);function f(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return l.a.sprintf.apply(l.a,[e].concat(n))}catch(t){return p("sprintf error: \n\n"+t.toString()),e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},o=["(","?"],i={")":["("],":":["?","?:"]},c=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var d={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,n){if(e)throw t;return n}};var g={contextDelimiter:"",onMissingKey:null};function y(e,t){var n;for(n in this.data=e,this.pluralForms={},this.options={},g)this.options[n]=void 0!==t&&n in t?t[n]:g[n]}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}y.prototype.getPluralForm=function(e,t){var n,s,a,u,l=this.pluralForms[e];return l||("function"!=typeof(a=(n=this.data[e][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(s=function(e){var t,n,r;for(t=e.split(";"),n=0;n<t.length;n++)if(0===(r=t[n].trim()).indexOf("plural="))return r.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),u=function(e){var t=function(e){for(var t,n,s,a,u=[],l=[];t=e.match(c);){for(n=t[0],(s=e.substr(0,t.index).trim())&&u.push(s);a=l.pop();){if(i[n]){if(i[n][0]===a){n=i[n][1]||n;break}}else if(o.indexOf(a)>=0||r[a]<r[n]){l.push(a);break}u.push(a)}i[n]||l.push(n),e=e.substr(t.index+n.length)}return(e=e.trim())&&u.push(e),u.concat(l.reverse())}(e);return function(e){return function(e,t){var n,r,o,i,c,s,a=[];for(n=0;n<e.length;n++){if(c=e[n],i=d[c]){for(r=i.length,o=Array(r);r--;)o[r]=a.pop();try{s=i.apply(null,o)}catch(e){return e}}else s=t.hasOwnProperty(c)?t[c]:+c;a.push(s)}return a[0]}(t,e)}}(s),a=function(e){return+u({n:e})}),l=this.pluralForms[e]=a),l(t)},y.prototype.dcnpgettext=function(e,t,n,r,o){var i,c,s;return i=void 0===o?0:this.getPluralForm(e,o),c=n,t&&(c=t+this.options.contextDelimiter+n),(s=this.data[e][c])&&s[i]?s[i]:(this.options.onMissingKey&&this.options.onMissingKey(n,e),0===i?n:r)};var v,O,w,j,P={"":{plural_forms:function(e){return 1===e?0:1}}},k=(v=new y({}),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return v.data[e]||O(void 0,e),v.dcnpgettext(e,t,n,r,o)},{setLocaleData:O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";v.data[t]=m(m(m({},P),v.data[t]),e),v.data[t][""]=m(m({},P[""]),v.data[t][""])},__:function(e,t){return w(t,void 0,e)},_x:j=function(e,t,n){return w(n,t,e)},_n:function(e,t,n,r){return w(r,void 0,e,t,n)},_nx:function(e,t,n,r,o){return w(o,r,e,t,n)},isRTL:function(){return"rtl"===j("ltr","text direction")}}),S=k.setLocaleData.bind(k),x=k.__.bind(k),_=(k._x.bind(k),k._n.bind(k)),E=(k._nx.bind(k),k.isRTL.bind(k),n(6)),D=n(1),C=n.n(D),R=n(0),I=n(2);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var B=function(e){var t=e.field,n=e.getValue,r=e.getNameFromAPI,o=e.onChange,i=function(e){return e&&e.id?parseInt(e.id):0},c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:0,name:""},n(e));return Object(R.createElement)(fe,{field:t,apiSlug:t.post_type_rest_slug,value:c.id,displayValue:c.name,getValueFromAPI:i,getDisplayValueFromAPI:r,onChange:function(e){"string"==typeof e?(c.name=e,c.id=0):(c.name=r(e),c.id=i(e)),o(c)}})},N=n(9),F=n.n(N),V=n(10),T=n.n(V),L=n(3),M=n.n(L),U=n(11),z=n.n(U),K=n(12),W=n.n(K),q=n(5),$=n.n(q),X=n(13),J=n.n(X),G=n(18),H=n(7),Q=n(19);function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var c,s=e[Symbol.iterator]();!(r=(c=s.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){return(function(e){var t;try{t=new URL(e,"http://example.com").search.substring(1)}catch(e){}if(t)return t}(e)||"").replace(/\+/g,"%20").split("&").reduce((function(e,t){var n=Z(t.split("=").filter(Boolean).map(decodeURIComponent),2),r=n[0],o=n[1],i=void 0===o?"":o;return r&&function(e,t,n){for(var r=t.length,o=r-1,i=0;i<r;i++){var c=t[i];!c&&Array.isArray(e)&&(c=e.length.toString());var s=!isNaN(Number(t[i+1]));e[c]=i===o?n:e[c]||(s?[]:{}),Array.isArray(e[c])&&!s&&(e[c]=ne({},e[c])),e=e[c]}}(e,r.replace(/\]/g,"").split("["),i),e}),{})}function oe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ie(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e){for(var t,n="",r=Array.from(Object.entries(e));t=r.shift();){var o=Z(t,2),i=o[0],c=o[1];if(Array.isArray(c)||c&&c.constructor===Object){var s,a=oe(Object.entries(c).reverse());try{for(a.s();!(s=a.n()).done;){var u=Z(s.value,2),l=u[0],p=u[1];r.unshift(["".concat(i,"[").concat(l,"]"),p])}}catch(e){a.e(e)}finally{a.f()}}else void 0!==c&&(null===c&&(c=""),n+="&"+[i,c].map(encodeURIComponent).join("="))}return n.substr(1)}function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!t||!Object.keys(t).length)return e;var n=e,r=e.indexOf("?");return-1!==r&&(t=Object.assign(re(e),t),n=n.substr(0,r)),n+"?"+ce(t)}var ae=n(20),ue=n.n(ae);var le=function(e){return e.stopPropagation()},pe=function(e){z()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=$()(t);if(n){var o=$()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return W()(this,e)});function o(e){var t,n=e.autocompleteRef;return F()(this,o),(t=r.apply(this,arguments)).onBlur=t.onBlur.bind(M()(t)),t.onFocus=t.onFocus.bind(M()(t)),t.onChange=t.onChange.bind(M()(t)),t.onKeyDown=t.onKeyDown.bind(M()(t)),t.autocompleteRef=n||Object(R.createRef)(),t.inputRef=Object(R.createRef)(),t.updateSuggestions=t.updateSuggestions.bind(M()(t)),t.setInputValidity=t.setInputValidity.bind(M()(t)),t.suggestionNodes=[],t.state={loading:!1,results:[],showSuggestions:!1,selectedSuggestion:null},t}return T()(o,[{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.results,o=n.showSuggestions,i=t.prevResults,c=t.prevShowSuggestions;r===i&&o===c||o&&(r.length?this.setInputValidity(!0):this.setInputValidity(!1))}},{key:"componentWillUnmount",value:function(){delete this.suggestionsRequest}},{key:"bindSuggestionNode",value:function(e){var t=this;return function(n){t.suggestionNodes[e]=n}}},{key:"updateSuggestions",value:function(e){var t=this;this.setState({loading:!0});var n=ue()({path:se("/wp/v2/"+this.props.apiSlug,{search:e,per_page:5})});n.then((function(e){t.suggestionsRequest===n&&(t.setState({results:e,showSuggestions:!0,loading:!1}),e.length?(t.props.debouncedSpeak(
/* translators: %d: the number of results */
f(_("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",e.length,"genesis-custom-blocks-pro"),e.length),"assertive"),null===t.state.selectedSuggestion&&""!==t.getInputValue()&&t.setState({selectedSuggestion:0})):t.props.debouncedSpeak(x("No results.","genesis-custom-blocks-pro"),"assertive"))})).catch((function(){t.suggestionsRequest===n&&t.setState({loading:!1})})),this.suggestionsRequest=n}},{key:"setInputValidity",value:function(e){this.inputRef.current&&this.inputRef.current.setCustomValidity&&(e?this.inputRef.current.setCustomValidity(""):(
/* translators: %s: the control name */
this.inputRef.current.setCustomValidity(f(x("Invalid %s","genesis-custom-blocks-pro"),this.props.field.control)),this.inputRef.current.reportValidity()),this.inputRef.current.className=J()("gcb-fetch__input",{"text-control__error":!e}))}},{key:"onBlur",value:function(e){if(e.relatedTarget&&!e.relatedTarget.classList.contains("components-popover__content")&&!e.relatedTarget.classList.contains("gcb-fetch-input__suggestion")){if(this.setState({showSuggestions:!1}),""===this.getInputValue())return;!1===this.inputRef.current.checkValidity()?this.handlePopoverButton(""):this.handlePopoverButton(this.state.results[this.state.selectedSuggestion])}}},{key:"onFocus",value:function(){this.updateSuggestions(this.getInputValue())}},{key:"onChange",value:function(e){var t=e.target.value;this.props.onChange(t),this.updateSuggestions(t)}},{key:"onKeyDown",value:function(e){var t=this.state,n=t.showSuggestions,r=t.selectedSuggestion,o=t.results,i=t.loading,c=this.getInputValue();if(n&&o.length&&!i){var s=this.state.results[this.state.selectedSuggestion];switch(e.keyCode){case H.UP:e.stopPropagation(),e.preventDefault();var a=r?r-1:o.length-1;this.setState({selectedSuggestion:a});break;case H.DOWN:e.stopPropagation(),e.preventDefault();var u=null===r||r===o.length-1?0:r+1;this.setState({selectedSuggestion:u});break;case H.ENTER:null!==this.state.selectedSuggestion&&(e.stopPropagation(),this.handlePopoverButton(s),this.inputRef.current.blur())}}else switch(e.keyCode){case H.UP:0!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(0,0));break;case H.DOWN:c.length!==e.target.selectionStart&&(e.stopPropagation(),e.preventDefault(),e.target.setSelectionRange(c.length,c.length))}}},{key:"handlePopoverButton",value:function(e){this.setState({selectedSuggestion:null,showSuggestions:!1}),this.props.onChange(e)}},{key:"getInputValue",value:function(){return this.props.hasOwnProperty("displayValue")?this.props.displayValue:this.props.value}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoFocus,r=void 0!==n&&n,o=t.className,i=t.getDisplayValueFromAPI,c=t.getValueFromAPI,s=t.field,a=t.instanceId,u=this.state,l=u.showSuggestions,p=u.results,f=u.selectedSuggestion,b=u.loading,d=l&&!!p.length,g=this.getInputValue(),y=i||c;return Object(R.createElement)(I.BaseControl,{label:s.label,id:"fetch-input-".concat(a),className:J()("gcb-fetch-input",o),help:s.help},Object(R.createElement)("input",{autoFocus:r,className:"gcb-fetch__input",type:"text","aria-label":s.label,value:g,onBlur:this.onBlur,onFocus:this.onFocus,onChange:this.onChange,onInput:le,onKeyDown:this.onKeyDown,role:"combobox","aria-expanded":l,"aria-autocomplete":"list","aria-controls":"gcb-fetch-input-suggestions-".concat(a),"aria-owns":"gcb-fetch-input-suggestions-".concat(a),"aria-activedescendant":null!==f?"editor-url-input-suggestion-".concat(a,"-").concat(f):void 0,ref:this.inputRef,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),!!b&&Object(R.createElement)(I.Spinner,null),d&&Object(R.createElement)(I.Popover,{position:"bottom center",noArrow:!0,focusOnMount:!1,className:J()("gcb-fetch__popover",s.location)},Object(R.createElement)("div",{className:"gcb-fetch-input__suggestions",id:"gcb-fetch-input-suggestions-".concat(a),ref:this.autocompleteRef,role:"listbox"},p.map((function(t,n){var r=y(t);return!!r&&Object(R.createElement)("button",{key:"gcb-fetch-suggestion-".concat(n),role:"option",tabIndex:"-1",id:"gcb-fetch-input-suggestion-".concat(a,"-").concat(n),ref:e.bindSuggestionNode(n),className:J()("gcb-fetch-input__suggestion",{"is-selected":n===f}),onClick:function(){return e.handlePopoverButton(t)},"aria-selected":n===f},Object(G.decodeEntities)(r))})))))}}]),o}(R.Component),fe=Object(I.withSpokenMessages)(Object(Q.withInstanceId)(pe)),be=n(8);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){var t="genesis-custom-blocks-control";return e.width&&(t+=" width-"+e.width),t},he=function(e){var t=e.fields,n=e.parentBlockProps,r=e.parentBlock,o=e.rowIndex;return Me(t).map((function(e){if(e.location&&!e.location.includes("editor"))return null;var t=function(e){return Object(E.applyFilters)("genesisCustomBlocks.controls",{})[e.control]}(e);return!!t&&Object(R.createElement)("div",{className:ye(e),key:"".concat(e.name,"-control-").concat(o)},Object(R.createElement)(t,{field:e,getValue:function(e){var t=e.field,n=e.parentBlockProps,r=e.rowIndex,o=ge({},n.attributes);return t.parent&&o[t.parent]&&o[t.parent].rows?o[t.parent].rows[r][t.name]:o[t.name]},onChange:function(t){var r=n.clientId,i=n.setAttributes,c=ge({},Object(be.select)("core/block-editor").getBlockAttributes(r));if(void 0===o)c[e.name]=t,i(c);else{var s=c[e.parent],a=s&&s.rows?s.rows:[{}];a[o]||(a[o]={}),a[o][e.name]=t,c[e.parent]={rows:a},n.setAttributes(c)}},parentBlock:r,rowIndex:o,parentBlockProps:n}))}))},me=n(21);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){z()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=$()(t);if(n){var o=$()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return W()(this,e)});function o(){var e;return F()(this,o),(e=r.apply(this,arguments)).getParent=e.getParent.bind(M()(e)),e.removeRow=e.removeRow.bind(M()(e)),e.move=e.move.bind(M()(e)),e.getRows=e.getRows.bind(M()(e)),e.repeaterRows=Object(R.createRef)(),e.state={activeRow:0},e.timeouts=[],e}return T()(o,[{key:"componentWillUnmount",value:function(){this.timeouts.forEach((function(e){clearTimeout(e)}))}},{key:"getParent",value:function(){var e=this.props.subFields,t=null;for(var n in e)if(e.hasOwnProperty(n)){if(t&&t!==e[n].parent)return null;t=e[n].parent}return t}},{key:"removeRow",value:function(e){var t=this;return function(){var n=t.props.parentBlockProps,r=Oe({},n.attributes),o=t.getParent(),i=r[o],c=t.getRows(i);if(c){var s=c.slice();s.splice(e,1),r[o]={rows:s},n.setAttributes(r)}}}},{key:"move",value:function(e,t){var n=this;return function(){var r,o,i,c,s,a=n.props.parentBlockProps,u=Oe({},a.attributes),l=n.getParent(),p=u[l],f=n.getRows(p).slice(),b=[f[t],f[e]];f[e]=b[0],f[t]=b[1],u[l]={rows:f},a.setAttributes(u),r=Object(me.getScrollContainer)(n.repeaterRows.current),o=n.repeaterRows.current.querySelectorAll(".genesis-custom-blocks-repeater--row"),i=o[e],c=o[t],s=r.scrollTop+(c.offsetTop-i.offsetTop),c.classList.add("row-to"),i.classList.add("row-from"),n.timeouts.push(setTimeout((function(){c.classList.remove("row-to"),i.classList.remove("row-from")}),1e3)),r.scroll({top:s,behavior:"smooth"})}}},{key:"getRows",value:function(e){return e&&e.rows?e.rows:[{}]}},{key:"render",value:function(){var e=this,t=this.props,n=t.rows,r=t.field,o=t.subFields,i=t.parentBlockProps,c=t.parentBlock;return Object(R.createElement)(R.Fragment,null,Object(R.createElement)("div",{className:"genesis-custom-blocks-repeater__rows",ref:this.repeaterRows},n.map((function(t,s){var a=e.state.activeRow===parseInt(s)?"active":"";return Object(R.createElement)(I.BaseControl,{className:"genesis-custom-blocks-repeater--row ".concat(a),key:"gcb-row-".concat(s)},Object(R.createElement)("div",{className:"genesis-custom-blocks-repeater--row-delete"},Object(R.createElement)(I.Button,{icon:"no",key:"".concat(s,"-menu"),className:"button-delete",label:x("Delete","genesis-custom-blocks-pro"),onClick:e.removeRow(s),disabled:!!r.min&&n.length<=r.min,isSmall:!0})),Object(R.createElement)(he,{fields:o,parentBlockProps:i,parentBlock:c,rowIndex:s}),Object(R.createElement)("div",{className:"genesis-custom-blocks-repeater--row-actions"},Object(R.createElement)(I.Button,{icon:"arrow-up-alt2",key:"".concat(s,"-move-up"),className:"button-move-up",label:x("Move up","genesis-custom-blocks-pro"),onClick:e.move(s,s-1),isSmall:!0}),Object(R.createElement)(I.Button,{icon:"arrow-down-alt2",key:"".concat(s,"-move-down"),className:"button-move-down",label:x("Move down","genesis-custom-blocks-pro"),onClick:e.move(s,s+1),isSmall:!0})))}))))}}]),o}(R.Component);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=function(e){z()(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=$()(t);if(n){var o=$()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return W()(this,e)});function o(e){var t;return F()(this,o),(t=r.call(this,e)).initialize=t.initialize.bind(M()(t)),t.onSetup=t.onSetup.bind(M()(t)),t.focus=t.focus.bind(M()(t)),t}return T()(o,[{key:"componentDidMount",value:function(){var e=window.wpEditorL10n.tinymce,t=e.baseURL,n=e.suffix;window.tinymce.EditorManager.overrideDefaults({base_url:t,suffix:n}),"complete"===document.readyState?this.initialize():window.addEventListener("DOMContentLoaded",this.initialize)}},{key:"componentWillUnmount",value:function(){window.addEventListener("DOMContentLoaded",this.initialize),wp.oldEditor.remove("editor-".concat(this.props.editorId))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.content,r=t.onChange;e.content!==n&&r(n||"")}},{key:"initialize",value:function(){var e=this.props.editorId,t=window.wpEditorL10n.tinymce.settings;wp.oldEditor.initialize("editor-".concat(e),{tinymce:Pe(Pe({},t),{},{inline:!0,content_css:!1,fixed_toolbar_container:"#toolbar-".concat(e),setup:this.onSetup,toolbar1:"formatselect,bold,italic,bullist,numlist,outdent,indent,alignleft,aligncenter,alignright,link,unlink,wp_add_media,strikethrough",toolbar2:""})})}},{key:"onSetup",value:function(e){var t,n=this,r=this.props,o=r.content,i=r.onChange;this.editor=e,o&&e.on("loadContent",(function(){return e.setContent(o)})),e.on("blur",(function(){return t=e.selection.getBookmark(2,!0),i(e.getContent()),e.once("focus",(function(){t&&e.selection.moveToBookmark(t)})),!1})),e.on("mousedown touchstart",(function(){t=null})),e.on("change",(function(){i(e.getContent())})),e.on("keydown",(function(e){e.altKey&&e.keyCode===H.F10&&e.stopPropagation()})),e.addButton("wp_add_media",{tooltip:x("Insert Media","genesis-custom-blocks-pro"),icon:"dashicon dashicons-admin-media",cmd:"WP_Medialib"}),e.on("init",(function(){var e=n.editor.getBody();document.activeElement===e&&(e.blur(),n.editor.focus())}))}},{key:"focus",value:function(){this.editor&&this.editor.focus()}},{key:"onToolbarKeyDown",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},{key:"render",value:function(){var e=this.props.editorId;return[Object(R.createElement)("div",{key:"toolbar",id:"toolbar-".concat(e),className:"classic-text__toolbar",onClick:this.focus,"data-placeholder":x("Classic text","genesis-custom-blocks-pro"),onKeyDown:this.onToolbarKeyDown}),Object(R.createElement)("div",{key:"editor",id:"editor-".concat(e),className:"classic-text__edit"})]}}]),o}(R.Component),Se=(n(4),n(22));function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re=n(15),Ie=n.n(Re);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Be={classic_text:function(e){var t=e.field,n=e.getValue,r=e.onChange,o=e.rowIndex,i=e.parentBlockProps.clientId,c="number"==typeof o?"gcb-".concat(i,"-").concat(t.name,"-rowIndex-").concat(o):"gcb-".concat(i,"-").concat(t.name),s=n(e),a=void 0!==s?s:t.default;return Object(R.createElement)(I.BaseControl,{label:t.label,id:"gcb-classic-text-".concat(i),className:"genesis-custom-blocks-classic-text-control",help:t.help},Object(R.createElement)(ke,{content:a,onChange:r,editorId:c}))},rich_text:function(e){var t=e.field,n=e.getValue,r=e.onChange,o="gcb-rich-text-".concat(t?t.name:"");return Object(R.createElement)(I.BaseControl,{label:t.label,id:o,className:"genesis-custom-blocks-rich-text-control",help:t.help},Object(R.createElement)(Se.RichText,{id:o,"aria-label":t?t.label:"",key:"genesis-custom-blocks-".concat(t.name),placeholder:t.placeholder||"",keepPlaceholderOnFocus:!0,defaultValue:t.default,value:n(e),className:"input-control",multiline:!0,inlineToolbar:!0,onChange:r}))},repeater:function(e){var t=e.field,n=e.instanceId,r=e.onChange,o=e.parentBlock,i=e.parentBlockProps,c=i.attributes,s=i.setAttributes,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c),u=a[t.name],l=new Array(t.min?t.min:1).fill({"":""}),p=u&&u.hasOwnProperty("rows"),f=p?u.rows:l;return p||r({rows:l}),Object(R.createElement)(I.BaseControl,{className:"genesis-custom-blocks-repeater",label:t.label,id:"gcb-repeater-".concat(n),help:t.help},Object(R.createElement)(we,{rows:f,field:t,subFields:t.sub_fields||l,parentBlockProps:i,parentBlock:o}),Object(R.createElement)("div",{className:"genesis-custom-blocks-repeater--row-add"},Object(R.createElement)(I.Button,{key:"".concat(t.name,"-repeater-insert"),icon:"insert",label:x("Add new","genesis-custom-blocks-pro"),onClick:function(){var e=f.concat({"":""});a[t.name]={rows:e},s(a)},disabled:!!t.max&&f.length>=t.max})))},post:function(e){var t=_e(_e({},e),{},{getNameFromAPI:function(e){return e&&e.title&&e.title.rendered?e.title.rendered:""}});return Object(R.createElement)(B,t)},taxonomy:function(e){var t=Ce(Ce({},e),{},{getNameFromAPI:function(e){return e&&e.name?e.name:""}});return Object(R.createElement)(B,t)},user:function(e){var t=e.field,n=e.getValue,r=e.onChange,o=function(e){return e&&e.id?e.id:0},i=function(e){return e&&e.name?e.name:""},c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:0,userName:""},"object"===Ie()(n(e))?n(e):{});return Object(R.createElement)(fe,{field:t,apiSlug:"users",value:c.id,displayValue:c.userName,getValueFromAPI:o,getDisplayValueFromAPI:i,onChange:function(e){"string"==typeof e?(c.userName=e,c.id=0):(c.userName=i(e),c.id=o(e)),r(c)}})}};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=function(e,t){return e.order<t.order?-1:e.order>t.order?1:0},Me=function(e){var t=[];for(var n in e)if(""!==n&&e.hasOwnProperty(n)){var r=e[n];t.push(Te(Te({},r),{},{name:n}))}return t.sort(Le),t};S({"":{}},"genesis-custom-blocks-pro"),Object(E.addFilter)("genesisCustomBlocks.controls","genesisCustomBlocksPro/addControls",(function(e){return Fe(Fe({},e),Be)}))}]);